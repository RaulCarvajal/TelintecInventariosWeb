
<div class="row" *ngIf="!cargando">
    <div class="col-sm-12 col-md-4 col-lg-4  mt-3" *ngFor="let contrato of contratos; let i = index">
        <mat-card>
            <mat-card-header>
                <div mat-card-avatar><mat-icon>insights</mat-icon></div>
                <mat-card-title>{{contrato.nombre}}</mat-card-title>
                <mat-card-subtitle>Vence el {{ contrato.fecha_final | date}}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
                <canvas baseChart
                    [data]="ChartData[i]"
                    [labels]="lbls"
                    [chartType]="dona">
                </canvas>
                <div class="row">
                    <div class="col text-center">
                        <p class="lead">{{ (1-(contrato.monto_actual/contrato.monto_total)) | percent }}</p>
                        <p class="">Gastado</p>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>

<mat-card class="mt-3 mat-elevation-z8" *ngIf="cargando">
    <div class="row">
        <div class="col">
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        </div>
    </div>
</mat-card>