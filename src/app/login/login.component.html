<mat-card class="mat-elevation-z8 offset-lg-4 col-lg-4 offset-md-4 col-md-4 offset-sm-2 col-sm-8">
    <mat-card-header>
        <mat-card-title>Login</mat-card-title>
        <mat-card-subtitle>Logueate para entrar a la aplicación</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
        <form [formGroup]="logForm" (ngSubmit)="tryLogin()">
            <div class="row">
                <div class="col">
                    <mat-form-field class="w-100">
                        <mat-label>Correo</mat-label>
                        <input matInput type="text" placeholder="Ultilice su correo como nombre de usuario" formControlName="usr" required>
                        <mat-error *ngIf="logForm.get('usr')!.hasError('required')">Campo requerido</mat-error>
                        <mat-error *ngIf="logForm.get('usr')!.hasError('email')">No coincide con un email</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <mat-form-field class="w-100">
                        <mat-label>Contraseña</mat-label>
                        <input matInput type="password" placeholder="Contraseña" formControlName="pwd" required>
                        <mat-error *ngIf="logForm.get('pwd')!.hasError('required')">Campo requerido</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row" *ngIf="!trying">
                <div class="col">
                    <button mat-flat-button class="w-100" color="primary" type="submit" [disabled]="logForm.invalid">
                        <mat-icon>login</mat-icon> Iniciar sesión
                    </button>
                </div>
            </div>
            <div class="row" *ngIf="trying">
                <div class="col">
                    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
                </div>
            </div>
            <div class="row mt-2" *ngIf="try>0">
                <div class="col text-warning text-center">
                    <b>Intentos de logueo {{try}}</b>
                </div>
            </div>
            <div class="row mt-2" *ngIf="failed">
                <div class="col text-danger text-center">
                    <b>Usuario y/o contraseña incorrectos.</b>
                    <mat-divider></mat-divider><br>
                    <small class="text-muted">Si persiste el problema, contacte a el administrador o intentelo más tarde.</small>
                </div>
            </div>
        </form>
    </mat-card-content>
    <mat-card-actions></mat-card-actions>
</mat-card>