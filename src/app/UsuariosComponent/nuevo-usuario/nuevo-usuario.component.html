<mat-card class="mat-elevation-z8">
    <mat-card-header>
        <mat-card-title>Nuevo usuario</mat-card-title>
        <mat-card-subtitle>Agregar usuario</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
        <form [formGroup]="formUser" (ngSubmit)="save()">
            <div class="row">
                <div class="col">
                    <mat-form-field class="w-100">
                        <mat-label>Nombres</mat-label>
                        <input matInput placeholder="nombre del colaborador" formControlName="nombre" required>
                        <mat-error *ngIf="formUser.get('nombre')!.hasError('required')">Campo requerido</mat-error>
                        <mat-error *ngIf="formUser.get('nombre')!.hasError('maxlength')">Máximo 75 carácteres</mat-error>
                        <mat-error *ngIf="formUser.get('nombre')!.hasError('pattern')">Inválido</mat-error>
                    </mat-form-field>
                </div>
                <div class="col">
                    <mat-form-field class="w-100">
                        <mat-label>Apellidos</mat-label>
                        <input matInput placeholder="Apellidos del colaborador" formControlName="apellidos" required>
                        <mat-error *ngIf="formUser.get('apellidos')!.hasError('required')">Campo requerido</mat-error>
                        <mat-error *ngIf="formUser.get('apellidos')!.hasError('maxlength')">Máximo 75 carácteres</mat-error>
                        <mat-error *ngIf="formUser.get('apellidos')!.hasError('pattern')">Inválido</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <mat-form-field class="w-100">
                        <mat-label>Email</mat-label>
                        <input matInput placeholder="Correo del colaborador" formControlName="email" required>
                        <mat-error *ngIf="formUser.get('email')!.hasError('required')">Campo requerido</mat-error>
                        <mat-error *ngIf="formUser.get('email')!.hasError('maxlength')">Máximo 50 carácteres</mat-error>
                        <mat-error *ngIf="formUser.get('email')!.hasError('email')">Inválido, no coincide con email</mat-error>
                    </mat-form-field>
                </div>
                <div class="col">
                    <mat-form-field class="w-100">
                        <mat-label>Numero de empleado</mat-label>
                        <input matInput placeholder="Ingrese número de empleado si existe" formControlName="numero_empleado">
                        <mat-error *ngIf="formUser.get('numero_empleado')!.hasError('maxlength')">Máximo 20 carácteres</mat-error>
                        <mat-error *ngIf="formUser.get('numero_empleado')!.hasError('pattern')">Inválido</mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <mat-form-field class="w-100">
                        <mat-label>Puesto que desempeña</mat-label>
                        <mat-select formControlName="fk_id_puesto" required>
                            <mat-option *ngFor="let puesto of puestos" [value]="puesto.id_puesto">
                                {{puesto.puesto}}
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="formUser.get('fk_id_puesto')!.hasError('required')">Campo requerido</mat-error>
                    </mat-form-field>
                </div>
                <div class="col">
                    <mat-form-field class="w-100">
                        <mat-label>Rol en la aplicación</mat-label>
                        <mat-select formControlName="rol" required>
                            <mat-option value="1">Administrador</mat-option>
                            <mat-option value="2">Gestor de Material (Herramientas y EPP)</mat-option>
                            <mat-option value="3">Solicitante de material</mat-option>
                        </mat-select>
                        <mat-error *ngIf="formUser.get('rol')!.hasError('required')">Campo requerido</mat-error>
                    </mat-form-field>
                </div>
                <div class="row" *ngIf="!cargando">
                    <div class="col">
                        <button class="w-100" mat-button color="primary" [disabled]="formUser.invalid">
                            <mat-icon>save</mat-icon> Guardar
                        </button>
                    </div>
                </div>
                <div class="row" *ngIf="cargando">
                    <div class="col">
                        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
                    </div>
                </div>
            </div>
        </form>
    </mat-card-content>
</mat-card>