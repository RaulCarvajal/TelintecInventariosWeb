<mat-card  *ngIf="!cargando">
    <mat-card-header>
        <mat-card-title>Contratos</mat-card-title>
        <mat-card-subtitle>Administraci√≥n de contratos</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
        <div class="row text-center">
            <div class="col">
                <p class="lead">Activos</p>
                <p class="display-4">{{activos}}</p>
            </div>
            <div class="col">
                <p class="lead">Vencidos</p>
                <p class="display-4">{{vencidos}}</p>
            </div>
            <div class="col">
                <p class="lead">Total</p>
                <p class="display-4">{{contratos.length}}</p>
            </div>
        </div>
    </mat-card-content>
    <mat-card-actions class="text-end">
        <a role="button" [routerLink]="['nuevo']" mat-button color="primary"><mat-icon>add</mat-icon> Nuevo contrato</a>
    </mat-card-actions>
</mat-card>

<div class="row" *ngIf="!cargando">
    <div class="col-sm-12 col-md-4 col-lg-4  mt-3" *ngFor="let contrato of contratos">
        <mat-card>
            <mat-card-header>
                <div mat-card-avatar><mat-icon>folder</mat-icon></div>
                <mat-card-title>Contrato {{contrato.nombre}}</mat-card-title>
                <mat-card-subtitle>Guardado el {{ contrato.fecha_registro | date}}</mat-card-subtitle>
            </mat-card-header>
            <img mat-card-image src="assets/contrato.jpg" alt="Contrato imagen">
            <mat-card-content>
                <p class="text-break">
                    {{contrato.nompre_proyecto}} - {{contrato.numero_contrato}}
                </p>
                <p class="text-break">
                    {{contrato.descripcion}}
                </p>
            </mat-card-content>
            <mat-card-actions>
                <a role="button" mat-button [routerLink]="['/contrato/'+contrato.id_contrato]"><mat-icon>preview</mat-icon> Detalle</a>
                <a role="button" mat-button [routerLink]="['/inventario/con/'+contrato.id_contrato]"><mat-icon>inventory</mat-icon> Inventario</a>
            </mat-card-actions>
        </mat-card>
    </div>
</div>

<mat-card class="mt-3" *ngIf="cargando">
    <div class="row">
        <div class="col">
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        </div>
    </div>
</mat-card>
